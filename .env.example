# ============================================================================
# NARAH HC PROCESSOR - CONFIGURACIÓN DE VARIABLES DE ENTORNO
# ============================================================================
# IMPORTANTE: Copie este archivo a .env y complete con sus credenciales reales
# NUNCA commit .env al repositorio (contiene información sensible)
# ============================================================================

# ----------------------------------------------------------------------------
# AZURE DOCUMENT INTELLIGENCE (Azure Form Recognizer)
# ----------------------------------------------------------------------------
# Obtenga estas credenciales desde Azure Portal:
# 1. Vaya a https://portal.azure.com
# 2. Busque su recurso de "Document Intelligence" o "Form Recognizer"
# 3. En el menú izquierdo, vaya a "Keys and Endpoint"
# 4. Copie el endpoint y una de las keys

AZURE_DOC_INTELLIGENCE_ENDPOINT=https://your-resource-name.cognitiveservices.azure.com/
AZURE_DOC_INTELLIGENCE_KEY=your_azure_key_here_32_characters_long

# ----------------------------------------------------------------------------
# ANTHROPIC CLAUDE API
# ----------------------------------------------------------------------------
# Obtenga su API key desde: https://console.anthropic.com/settings/keys
# Asegúrese de tener créditos disponibles en su cuenta

ANTHROPIC_API_KEY=sk-ant-api03-your-key-here

# Modelo a usar:
# - claude-sonnet-4-20250514: Máxima precisión ($3/$15 por 1M tokens) [RECOMENDADO]
# - claude-haiku-4-20250514: 3x más económico ($1/$5 por 1M tokens), calidad enterprise
# Pruebe Haiku 4.5 si quiere reducir costos sin sacrificar mucha calidad
CLAUDE_MODEL=claude-sonnet-4-20250514

# Parámetros de generación
CLAUDE_MAX_TOKENS=8000
CLAUDE_TEMPERATURE=0.0  # 0.0 para máxima determinismo en extracción médica

# Habilitar prompt caching (reduce costos 90% en tokens cacheados)
# El cache dura 5 minutos - ideal para procesamiento batch
# Recomendado: true para reducir costos de $3.00 a $0.30-$0.66 por 40 HCs
ENABLE_PROMPT_CACHING=true

# ----------------------------------------------------------------------------
# CONFIGURACIÓN DE PROCESAMIENTO
# ----------------------------------------------------------------------------

# Nivel de logging (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Timeout para procesamiento de cada HC (en segundos)
PROCESSING_TIMEOUT_SECONDS=300

# Número máximo de reintentos en caso de error
MAX_RETRIES=3

# Tiempo de espera entre reintentos (en segundos)
RETRY_DELAY_SECONDS=2

# ----------------------------------------------------------------------------
# DIRECTORIOS (opcional - usa valores por defecto si no se especifica)
# ----------------------------------------------------------------------------

# Directorio raíz de datos
DATA_DIR=./data

# Subdirectorios específicos
RAW_DIR=./data/raw
PROCESSED_DIR=./data/processed
LABELED_DIR=./data/labeled

# Directorio de logs
LOG_DIR=./logs

# ----------------------------------------------------------------------------
# CONFIGURACIÓN AVANZADA (opcional)
# ----------------------------------------------------------------------------

# Número de workers para procesamiento en batch
DEFAULT_WORKERS=5

# Tamaño de batch para procesamiento paralelo
BATCH_SIZE=10

# Habilitar modo debug (más verbose, guarda JSONs intermedios)
DEBUG_MODE=false

# Guardar texto extraído por Azure antes de enviar a Claude (útil para debugging)
SAVE_INTERMEDIATE_EXTRACTIONS=true

# ----------------------------------------------------------------------------
# VALIDACIÓN Y CALIDAD
# ----------------------------------------------------------------------------

# Umbral mínimo de confianza para aceptar extracción (0.0 - 1.0)
MIN_CONFIDENCE_THRESHOLD=0.5

# Habilitar validación estricta de CIE-10 contra catálogo oficial
STRICT_CIE10_VALIDATION=true

# Habilitar alertas automáticas en la consola
ENABLE_CONSOLE_ALERTS=true
